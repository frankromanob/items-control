(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{91122:function(e,t,r){"use strict";var a=r(38173),s=r(57437);t.Z=(0,a.Z)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},76712:function(e,t,r){"use strict";var a=r(38173),s=r(57437);t.Z=(0,a.Z)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined")},64802:function(e,t,r){Promise.resolve().then(r.bind(r,29899)),Promise.resolve().then(r.bind(r,85651))},86447:function(e,t,r){"use strict";var a=r(92173);let s=a.Z.create({baseURL:"".concat("http://localhost:3000","/api")});t.Z=s},85651:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(57437),s=r(2265),i=r(91122),l=r(76712),o=r(38939),n=r(67248),c=r(54986),u=r(61865),m=r(96507),d=r(49600),h=r(56331),x=r(24033),f=r(86447);function p(e){var t,r,p,v;let{customer:Z}=e,[b,g]=(0,s.useState)(!1),j=(0,x.useRouter)(),{register:N,handleSubmit:E,formState:{errors:y},getValues:T,setValue:w,watch:C}=(0,u.cI)({defaultValues:Z}),O=async e=>{g(!0);try{let t=await (0,f.Z)("/customers",{method:e._id?"PUT":"POST",data:JSON.stringify(e)});if(g(!1),"OK"!==t.statusText)throw Error(t.statusText);alert("Cliente guardado correctamente."),j.replace("/clientes"),j.refresh()}catch(e){g(!1),alert("Ha ocurrido un error. "+e),console.log(e)}},z=async e=>{try{let t=await (0,f.Z)("/customers",{method:"DELETE",data:JSON.stringify(e)});if("OK"!==t.statusText&&"OK"!==t.statusText)throw Error(t.statusText);alert("Cliente eliminado correctamente"),j.replace("/clientes"),j.refresh()}catch(e){g(!1),console.log(e)}};return(0,a.jsx)(m.Z,{sx:{display:"flex",flexDirection:"column",m:1},children:(0,a.jsx)("form",{name:"customerForm",onSubmit:E(O),children:(0,a.jsx)(o.ZP,{container:!0,spacing:2,mt:1,children:(0,a.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,a.jsx)(n.Z,{label:"Nombre",variant:"outlined",fullWidth:!0,id:"fistName",name:"firstName",autoComplete:"false",sx:{mb:1},...N("firstName",{required:"Este campo es requerido",minLength:{value:2,message:"M\xednimo 2 caracteres"}}),error:!!y.firstName,helperText:null===(t=y.firstName)||void 0===t?void 0:t.message}),(0,a.jsx)(n.Z,{label:"Apellido",variant:"outlined",fullWidth:!0,autoComplete:"false",id:"lastName",name:"lastName",sx:{mb:1},...N("lastName",{required:"Este campo es requerido",minLength:{value:2,message:"M\xednimo 2 caracteres"}}),error:!!y.lastName,helperText:null===(r=y.lastName)||void 0===r?void 0:r.message}),(0,a.jsx)(n.Z,{label:"Email",variant:"outlined",fullWidth:!0,autoComplete:"false",id:"email",name:"email",sx:{mb:1},...N("email",{required:"El correo es requerido",validate:e=>h.J(e)}),error:!!y.email,helperText:null===(p=y.email)||void 0===p?void 0:p.message}),(0,a.jsx)(n.Z,{label:"Telefono",variant:"outlined",autoComplete:"false",id:"phone",name:"phone",fullWidth:!0,sx:{mb:1},...N("phone"),error:!!y.phone,helperText:null===(v=y.phone)||void 0===v?void 0:v.message}),(0,a.jsx)(c.Z,{sx:{my:1}}),(0,a.jsxs)(m.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",sx:{mb:1},children:[(0,a.jsx)(d.Z,{color:"error",startIcon:(0,a.jsx)(i.Z,{}),sx:{width:"100px",height:"30px",marginInlineEnd:"20px"},type:"button",onClick:()=>z(T("_id")),children:"Eliminar"}),(0,a.jsx)(d.Z,{color:"secondary",startIcon:(0,a.jsx)(l.Z,{}),sx:{width:"150px",height:"30px"},type:"submit",disabled:b,children:"Guardar"})]})]})})})})}},56331:function(e,t,r){"use strict";r.d(t,{J:function(){return s}});let a=e=>{let t=String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);return!!t},s=e=>a(e)?void 0:"El correo no parece ser v\xe1lido"}},function(e){e.O(0,[869,899,604,971,472,744],function(){return e(e.s=64802)}),_N_E=e.O()}]);